'use strict';var CHAMPION_LIST=['Androxus','Barik','Bomb King','Buck','Cassie','Drogoz','Evie','Fernando','Grohk','Grover','Kinessa','Makoa','Mal\'Damba','Pip','Ruckus','Skye','Sha Lin','Viktor','Ying'],activeChampion='',championHP=10,maxChampionHP=10,dmg=1,dps=0,gold=0,goldPerKill=3,topUnlocked=0,level=1,oldXp=0,xp=0,xpPerKill=20,maxXp=100,championHPperLevel=3,maxXpPerLevelMulti=1.3,xpPerKillPerLevelMulti=1.05,multipleOfGPKupgrade=5,costPerBuyMulti=1.4,explodePieces=32,easterEggs=!1;function randomizeChampion(){activeChampion=CHAMPION_LIST[Math.floor(Math.random()*CHAMPION_LIST.length)],$('.champion-icon').attr('src','./img/champicons/'+activeChampion+'.png'),$('.champion-icon').attr('alt',activeChampion),$('.champion-name').html(activeChampion)}function updateHP(){var a=274-274*(championHP/maxChampionHP);274<a&&(a=274),$('.health-progress').animate({width:a},100),$('.health-wrapper').tooltipster('content',championHP+'/'+maxChampionHP),0>=championHP&&($('.champion-icon').effect('explode',{pieces:explodePieces},500,function(){randomizeChampion(),$(this).show(),$('.health-wrapper').tooltipster('content',championHP+'/'+maxChampionHP),$('.health-progress').stop(!0).animate({width:274-274*(championHP/maxChampionHP)},200)}),oldXp=xp,xp+=xpPerKill,updateXp(),championHP=maxChampionHP,gold+=goldPerKill,$('#goldSpan').html(gold))}function updateXp(){for(;xp>maxXp;)level++,oldXp=0,xp=xp-maxXp,maxXp=Math.floor(maxXp*maxXpPerLevelMulti),maxChampionHP+=championHPperLevel,xpPerKill=Math.floor(xpPerKill*xpPerKillPerLevelMulti),0==level%multipleOfGPKupgrade&&(goldPerKill+=level/multipleOfGPKupgrade,$('#gpkSpan').html(goldPerKill)),$('.level-text').effect('highlight',{color:'#54E9E6'},1500),$('.level-text').html(level);$('.level-text').tooltipster('content',xp+'/'+maxXp),drawLvLCircle()}function drawLvLCircle(){var a=document.getElementById('lvlCanvas'),b=a.getContext('2d'),c=a.width/2,d=a.height/2;b.clearRect(0,0,a.width,a.height),b.beginPath(),b.arc(c,d,114,0,2*Math.PI,!1),b.lineWidth=28,b.strokeStyle='#128D8A',b.stroke(),b.beginPath(),b.arc(c,d,114,0,2*Math.PI,!1),b.lineWidth=24,b.strokeStyle='#222222',b.stroke(),b.beginPath(),b.arc(c,d,114,3.5*Math.PI,(3.5+2*(xp/maxXp))*Math.PI,!1),b.strokeStyle='#54E9E6',b.stroke(),b.beginPath(),b.arc(c,d,114,3.5*Math.PI,(3.5+2*(oldXp/maxXp))*Math.PI,!1),b.strokeStyle='#128D8A',b.stroke()}function click(){championHP-=dmg,updateHP()}function saveSettings(){explodePieces=$('#explosionPiecesInput').val(),1>explodePieces&&(explodePieces=1,$('#explosionPiecesInput').val(explodePieces)),$('#explosionPiecesDisplay').val(explodePieces)}function Item(a,b,c,d,e,f,g){this.id=a,this.name=b,this.type=c,this.bonus=d,this.cost=e,this.costMulti=costPerBuyMulti,this.level=0,this.image='./img/items/'+a+'.png',this.costid='cost-'+a,this.levelid='level-'+a,this.buyid='buy-'+a,this.bonusid='bonus-'+a,this.req=f,this.unl=g,this.easterEgg=!1,this.buy=function(){return!!(this.cost<=gold)&&(gold-=this.cost,gold=Math.floor(gold),$('#goldSpan').html(gold),this.level+=1,this.cost=Math.floor(this.cost*this.costMulti),1==this.type?(dmg+=this.bonus,$('#damageSpan').html(dmg)):2==this.type?(dps+=this.bonus,$('#dpsSpan').html(dps)):3==this.type&&(goldPerKill+=this.bonus,$('#gpkSpan').html(goldPerKill)),this.unl>topUnlocked&&(topUnlocked=this.unl,$.each(Item.instances,function(){this.req<=topUnlocked&&$('#'+this.id).slideDown(1e3)})),$('#'+this.id).effect('highlight',{color:'#54E9E6'},1e3),$('#'+this.buyid).effect('highlight',{color:'white'},1e3),this.render(),!0)},this.render=function(){$('#'+this.costid).html(this.cost),$('#'+this.levelid).html(this.level),0<this.level?$('#'+this.buyid).html('UPGRADE'):$('#'+this.buyid).html('BUY')},Item.instances.push(this)}Item.instances=[];var basicbow=new Item('basicbow','Cassie\'s Bow',1,1,20,0,1);basicbow.level=1;var viktorrifle=new Item('viktorrifle','Viktor\'s Rifle',2,2,50,0,2),killtoheal=new Item('killtoheal','Kill to Heal',3,2,70,1,3),sniperrifle=new Item('sniperrifle','Kinessa\'s Sniper Rifle',1,3,100,2,4),defthands=new Item('defthands','Deft Hands',2,5,350,3,5),aggression=new Item('aggression','Aggression',1,1,400,4,6);aggression.easterEgg=!0,aggression.costMulti=2,$(window).on('load',function(){$('.loadingOverlay').delay(500).fadeOut(500,function(){$(this).remove()}),$('#greetModal').modal().show()}),$(function(){$(window).bind('beforeunload',function(){return'Are you sure you want to leave? Champions will be pretty sad :('}),$('.tooltipster').tooltipster({theme:['tooltipster-punk','tooltipster-punk-customized'],animation:'slide',delay:[300,1500],animationDuration:[300,1500],updateAnimation:'scale'}),$('.pc-navbar-element').tooltipster({theme:['tooltipster-punk','tooltipster-punk-customized'],animation:'fade',delay:300,animationDuration:300,side:'bottom'}),$('.pc-rightbar').mCustomScrollbar({axis:'y',scrollbarPosition:'inside',theme:'minimal',contentTouchScroll:!1,documentTouchScroll:!0}),$.each(Item.instances,function(){var a='<div class="pc-item" id="'+this.id+'"><img class="pc-item-image" src="'+this.image+'" height="90px" width="90px" draggable="false"><div class="pc-item-title">'+this.name+'</div><div class="pc-item-stats"><div class="pc-item-section"><div class="pc-item-cost"><span id="'+this.costid+'"></span><img src="./img/gold.png" draggable="false" height="15" width="15"></div><div class="pc-item-level" id="'+this.levelid+'"></div></div><div class="pc-item-section pc-item-section2"><div class="pc-item-bonus tooltipster" id="'+this.bonusid+'" title="placeholder">'+this.bonus+'</div><button class="pc-item-button" type="button" onclick="'+this.id+'.buy();" id="'+this.buyid+'">BUY</button></div></div></div>';switch($('.pc-rightbar').find('.mCSB_container').append(a),this.req>topUnlocked&&$('#'+this.id).hide(),$('#'+this.bonusid).tooltipster({theme:['tooltipster-punk','tooltipster-punk-customized'],contentAsHTML:!0,animation:'fade',delay:300,animationDuration:300}),this.type){case 1:$('#'+this.bonusid).addClass('pc-item-bonus-dmg'),$('#'+this.bonusid).tooltipster('content','<span style="color: #FF6600;">Damage per Click</span>');break;case 2:$('#'+this.bonusid).addClass('pc-item-bonus-dps'),$('#'+this.bonusid).tooltipster('content','<span style="color: #bd0a0a;">Damage per Second</span>');break;case 3:$('#'+this.bonusid).addClass('pc-item-bonus-gpk'),$('#'+this.bonusid).tooltipster('content','<span style="color: #DEAC3D;">Gold per Kill</span>');break;default:$('#'+this.bonusid).removeClass('pc-item-bonus-dmg pc-item-bonus-dps pc-item-bonus-gpk'),$('#'+this.bonusid).tooltipster('content','ERROR');}this.render(),$('.pc-rightbar').mCustomScrollbar('update')}),drawLvLCircle(),randomizeChampion(),explodePieces=Math.floor(Math.pow(2,5*($(window).width()/1280))),128<explodePieces&&(explodePieces=128),$('#explosionPiecesInput').val(explodePieces),$('#explosionPiecesDisplay').val(explodePieces),setInterval(function(){championHP-=dps,updateHP()},1e3),$('.champion-icon').click(function(){click()}),$('.champion-wrapper').contextmenu(function(){return!1}),$('.champion-icon').contextmenu(function(){return click(),!1})});
